---
description: Guide for creating cursor rules - standards and best practices
alwaysApply: false
---

# Guide for Creating Cursor Rules

## ğŸ“‹ Overview

Cursor Rules (`.mdc` files) are rules for Cursor IDE that guide AI behavior when working with code. Rules are stored in the `rules/` directory and are automatically applied based on frontmatter settings.

## ğŸ“ File Structure

### YAML Frontmatter (required)

Each rule file must start with YAML frontmatter:

```yaml
---
description: Brief description of the rule's purpose
globs: file patterns for applying the rule
alwaysApply: true/false
---
```

#### Frontmatter fields:

- **`description`** (required): Brief description of the rule's purpose (1-2 sentences)
- **`globs`** (optional): Glob patterns for automatically applying the rule to matching files
  - Examples: `*.py`, `**/router.py`, `service.py,repository.py`, `**/dto/*.py`
  - Multiple patterns can be specified separated by commas
- **`alwaysApply`** (optional, default `false`): Whether to apply the rule always, regardless of open files
  - `true` - rule is always applied
  - `false` - rule is only applied when opening matching files (by globs)

### Markdown Content

After frontmatter follows Markdown content describing the rule.

## âœ… Best Practices (DO)

### 1. Focus and Specificity

- âœ… **One rule = one topic**: Each file should describe one specific area
- âœ… **Concrete examples**: Include examples of correct and incorrect code
- âœ… **Practical patterns**: Provide ready-to-use code templates

**Example:**
```markdown
## âœ… Correct

```python
# Use dependency injection
@app.get("/users")
async def get_users(settings: APISettingsDep):
    return await user_service.get_all()
```

## âŒ Incorrect

```python
# DO NOT use global variables
from global_config import SETTINGS  # âŒ
```
```

### 2. Content Structure

- âœ… **Use emojis for sections**: Improves readability
  - ğŸš€ Initialization/setup
  - ğŸ“‹ Configuration/settings
  - ğŸ” Security
  - ğŸ›  Tools/utilities
  - âš™ï¸ Parameters/options
  - ğŸ“Š Monitoring/statistics
  - ğŸ”§ Tuning/configuration
  - âŒ Forbidden practices
  - âœ… Recommended practices

- âœ… **Heading hierarchy**: Use logical H2, H3, H4 structure
- âœ… **Code blocks with language**: Always specify language in code blocks (`python`, `bash`, `sql`, etc.)

### 3. Code Examples

- âœ… **Complete examples**: Provide complete, working examples
- âœ… **Templates with placeholders**: Use `{Entity}`, `{entity}` for templates
- âœ… **Code comments**: Add explanatory comments
- âœ… **Real scenarios**: Examples should reflect real use cases

### 4. Pattern Description

- âœ… **DO/DON'T sections**: Clearly separate what to do and what not to do
- âœ… **Responsibility section**: Describe component/pattern responsibility
- âœ… **Key Points**: Highlight key points at the end of the document

### 5. File Organization

- âœ… **Logical directory structure**: Group rules by domains/technologies
  - `rules/backend/python/fastapi/` - rules for FastAPI
  - `rules/docker-infrastructure/` - rules for Docker
  - `rules/utilities/` - utilities and general rules

- âœ… **Descriptive file names**: Use kebab-case
  - âœ… `fastapi-settings.mdc`
  - âœ… `git-workflow-standards.mdc`
  - âŒ `rule1.mdc`, `settings.mdc`

### 6. Length and Readability

- âœ… **Optimal size**: Try to keep rules within 300-500 lines
- âœ… **Split into parts**: If a rule is large, split into several related files
- âœ… **Links between rules**: Use links to related rules

### 7. Currency and Versioning

- âœ… **Regular updates**: Update rules when practices change
- âœ… **Changelog**: Keep change history in comments (optional)

## âŒ Anti-patterns (DON'T)

### 1. Avoid

- âŒ **Too general rules**: Don't create rules like "how to write code"
- âŒ **Duplication**: Don't duplicate information from other rules
- âŒ **Outdated practices**: Don't include outdated approaches
- âŒ **Contradictions**: Ensure rules don't contradict each other

### 2. Structure

- âŒ **Missing frontmatter**: Always include YAML frontmatter
- âŒ **Imprecise globs**: Don't use too broad patterns (`**/*.py` for specific rules)
- âŒ **Unclear descriptions**: `description` should be clear and specific

### 3. Content

- âŒ **Abstract examples**: Avoid examples without context
- âŒ **Incomplete examples**: Always provide complete, working examples
- âŒ **Missing negative examples**: Show not only what to do, but also what not to do

### 4. Organization

- âŒ **Flat structures**: Don't put all rules in one directory
- âŒ **Unclear names**: Avoid abbreviations in file names

## ğŸ“ Standard Rule Structure

```markdown
---
description: Brief description of the rule
globs: file patterns (optional)
alwaysApply: false
---

# Rule Name

## ğŸ“‹ Overview / Responsibility

Brief description of the rule's purpose and scope.

## âœ… DO (Recommended Practices)

### Subsection 1
Description with examples...

```python
# Example of correct code
```

### Subsection 2
...

## âŒ DON'T (Forbidden Practices)

### Anti-pattern 1
Description with examples...

```python
# Example of incorrect code
```

## ğŸ”§ Usage Examples

Complete examples...

## ğŸ“ Key Points

- Key point 1
- Key point 2
- Key point 3
```

## ğŸ¯ Examples of Good Rules

### Example 1: Specific rule with globs

```yaml
---
description: FastAPI Settings Usage Standards
globs: service.py,router.py
alwaysApply: false
---
```

### Example 2: General rule

```yaml
---
description: Git Workflow Standards
alwaysApply: false
---
```

### Example 3: Rule with multiple patterns

```yaml
---
description: Pydantic DTO Pattern
globs: *_dto.py,dto.py
alwaysApply: false
---
```

## ğŸ”— Linking Rules

Use links to connect related rules:

```markdown
See also [FastAPI Dependencies](fastapi-dependencies.mdc) for working with dependencies.
```

## ğŸ“Š Rule Creation Checklist

Before creating a new rule, ensure:

- [ ] YAML frontmatter with `description` is created
- [ ] Correct `globs` are specified (if needed)
- [ ] Rule is focused on one topic
- [ ] Examples of correct code (âœ…) are included
- [ ] Examples of incorrect code (âŒ) are included
- [ ] Emojis are used for sections
- [ ] Code examples are complete and working
- [ ] File has descriptive name in kebab-case
- [ ] File is placed in correct directory
- [ ] Rule doesn't duplicate existing rules
- [ ] Key Points section is added

## ğŸš€ Rule Creation Process

1. **Define scope**: What specific area does the rule cover?
2. **Check existing**: Are there similar rules already?
3. **Create structure**: Define main sections
4. **Write examples**: Prepare code examples
5. **Add frontmatter**: Configure globs and description
6. **Check**: Go through checklist
7. **Test**: Ensure the rule is applied correctly

## ğŸ“š Additional Resources

- Official Cursor IDE documentation
- Existing rules in `rules/` for examples
- Best practices from developer community

---

**Remember**: A good rule is a specific, clear, and practical guide that helps AI generate quality code that follows project standards.