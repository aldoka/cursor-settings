---
description: Comprehensive guide for color theory, contrast ratios, semantic colors, accessibility standards, and dark mode implementation
alwaysApply: false
---
# Colors and Contrast

> **Reference**: This guide extends the [UX/UI Design Principles](ux-ui.mdc). Make sure you're familiar with core UX/UI principles before diving into color and contrast specifics.

## üìã Overview

Color is one of the most powerful tools in web design, affecting aesthetics, usability, accessibility, and user emotions. This guide covers color theory, WCAG contrast requirements, semantic color systems, and modern approaches including dark mode implementation.

**Critical**: Insufficient color contrast is one of the most common accessibility issues, affecting millions of users with visual impairments and those viewing screens in bright environments.

## üéØ Core Color Principles

### 1. Color Accessibility (WCAG Standards)
- **Normal text**: Minimum 4.5:1 contrast ratio (WCAG AA)
- **Large text** (18pt+/14pt+ bold): Minimum 3:1 contrast ratio
- **UI components**: Minimum 3:1 contrast ratio
- **AAA standard**: 7:1 for normal text, 4.5:1 for large text

### 2. Color Psychology
Colors convey meaning and emotion:
- **Blue**: Trust, professionalism, calm (finance, healthcare)
- **Green**: Growth, success, eco-friendly (environmental, finance)
- **Red**: Urgency, danger, passion (errors, sales, food)
- **Yellow/Orange**: Warning, energy, optimism (alerts, CTAs)
- **Purple**: Luxury, creativity (premium brands)
- **Gray**: Neutral, professional (backgrounds, text)

### 3. Color Harmony
- **Monochromatic**: Variations of single hue (safe, cohesive)
- **Analogous**: Adjacent colors on wheel (harmonious)
- **Complementary**: Opposite colors (high contrast, energetic)
- **Triadic**: Three equidistant colors (balanced, vibrant)

### 4. 60-30-10 Rule
- **60%**: Dominant color (backgrounds, major areas)
- **30%**: Secondary color (supporting elements)
- **10%**: Accent color (CTAs, highlights)

## ‚úÖ DO (Recommended Practices)

### WCAG Contrast Requirements

#### Text Contrast Standards
- ‚úÖ **Meet minimum WCAG AA standards (4.5:1)**
- ‚úÖ **Aim for AAA when possible (7:1)**
- ‚úÖ **Test all text/background combinations**
- ‚úÖ **Consider context (mobile in sunlight)**

```css
/* ‚úÖ Good: Sufficient contrast */
:root {
  --color-text-primary: #111827;
  --color-text-secondary: #6b7280;
  --color-link: #0066cc;
  --color-error: #b91c1c;
}

.button-primary {
  background: #0066cc;
  color: #ffffff;
}
```

#### UI Component Contrast
- ‚úÖ **3:1 minimum for interactive elements**
- ‚úÖ **Clear focus indicators**
- ‚úÖ **Sufficient border contrast**

```css
/* ‚úÖ Good: Input fields with sufficient contrast */
input {
  background: #ffffff;
  color: #111827;
  border: 2px solid #d1d5db;
}

input:focus {
  border-color: #0066cc;
  outline: 2px solid #0066cc;
}
```

### Color System Design

#### Semantic Color System
- ‚úÖ **Define colors by purpose, not appearance**
- ‚úÖ **Create shade scales (50-900)**
- ‚úÖ **Include state variations**
- ‚úÖ **Consider both light and dark modes**

```css
/* ‚úÖ Good: Semantic color system */
:root {
  --color-primary: #3b82f6;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-gray-500: #6b7280;
  --color-gray-900: #111827;
}

.alert-success {
  background: #d1fae5;
  border-left: 4px solid var(--color-success);
  color: #065f46;
}
```

#### Color Variations for States
- ‚úÖ **Hover: 10-20% darker/lighter**
- ‚úÖ **Active: 20-30% darker/lighter**
- ‚úÖ **Focus: Clear outline with accent color**
- ‚úÖ **Disabled: Reduced opacity or desaturated**

```css
/* ‚úÖ Good: Button states */
.button {
  background: var(--color-primary);
  color: white;
}

.button:hover {
  background: var(--color-primary-700);
}

.button:focus-visible {
  outline: 3px solid var(--color-primary-300);
}
```

### Accessible Color Combinations

#### Pre-Tested Color Pairs
- ‚úÖ **Document approved combinations**
- ‚úÖ **Test with contrast tools**
- ‚úÖ **Provide alternative indicators**

```css
/* ‚úÖ Good: Accessible color combinations */
:root {
  --text-on-white: #111827;
  --text-on-gray-900: #f9fafb;
  --text-on-primary: #ffffff;
}

.badge-primary {
  background: #0066cc;
  color: #ffffff;
}
```

### Dark Mode Implementation

#### Proper Dark Mode Colors
- ‚úÖ **Don't just invert colors**
- ‚úÖ **Use dark grays, not pure black**
- ‚úÖ **Reduce saturation of bright colors**
- ‚úÖ **Maintain or improve contrast**

```css
/* ‚úÖ Good: Proper dark mode color system */
:root {
  --background: #ffffff;
  --surface: #f9fafb;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --border: #e5e7eb;
}

/* Dark mode - not just inverted! */
@media (prefers-color-scheme: dark) {
  :root {
    /* Use dark gray, not pure black (reduces eye strain) */
    --background: #0f172a;        /* Dark slate, not #000000 */
    --surface: #1e293b;           /* Slightly lighter for elevation */
    
    /* Off-white text, not pure white */
    --text-primary: #f1f5f9;      /* Softer than #ffffff */
    --text-secondary: #94a3b8;    /* Still good contrast: 7.2:1 */
    
    /* Adjusted border for dark mode */
    --border: #334155;            /* 2.3:1 contrast */
    
    /* Desaturate bright colors for dark mode */
    --color-primary: #60a5fa;     /* Lighter blue, less saturated */
    --color-success: #34d399;     /* Lighter green */
    --color-error: #f87171;       /* Lighter red */
    --color-warning: #fbbf24;     /* Slightly adjusted amber */
  }
}

/* ‚úÖ Good: Component adapts to dark mode */
.card {
  background: var(--surface);
  color: var(--text-primary);
  border: 1px solid var(--border);
  padding: 1.5rem;
  border-radius: 8px;
}

/* ‚úÖ Good: Shadows adjust for dark mode */
.card {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

@media (prefers-color-scheme: dark) {
  .card {
    /* Lighter shadows in dark mode */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }
}
```

#### Dark Mode Toggle
- ‚úÖ **Respect system preference by default**
- ‚úÖ **Allow user override**
- ‚úÖ **Store preference in localStorage**
- ‚úÖ **Apply before paint to avoid flash**

```html
<!-- ‚úÖ Good: Dark mode implementation -->
<script>
  // Apply dark mode before page renders (prevent flash)
  (function() {
    const savedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
      document.documentElement.classList.add('dark');
    }
  })();
</script>

<style>
  /* Default (light mode) */
  :root {
    --bg: #ffffff;
    --text: #111827;
  }
  
  /* Dark mode */
  .dark {
    --bg: #0f172a;
    --text: #f1f5f9;
  }
  
  body {
    background: var(--bg);
    color: var(--text);
    transition: background-color 200ms ease, color 200ms ease;
  }
</style>

<!-- Theme toggle button -->
<button id="theme-toggle" aria-label="Toggle dark mode">
  <span class="light-icon">üåô</span>
  <span class="dark-icon">‚òÄÔ∏è</span>
</button>

<script>
  const toggleButton = document.getElementById('theme-toggle');
  
  toggleButton.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>
```

### Color Blindness Considerations

#### Don't Rely on Color Alone
- ‚úÖ **Use icons + color**
- ‚úÖ **Use patterns/textures**
- ‚úÖ **Use text labels**
- ‚úÖ **Test with simulators**

```html
<!-- ‚úÖ Good: Multiple indicators -->
<div class="alert alert-error">
  <svg aria-hidden="true"><use href="#icon-error"></use></svg>
  <strong>Error:</strong>
  <span>Your payment could not be processed.</span>
</div>
```

## ‚ùå DON'T (Anti-patterns)

### Contrast Mistakes
- ‚ùå **Low contrast text**: Don't use light gray on white
- ‚ùå **Ignoring WCAG**: Don't skip contrast testing
- ‚ùå **Color-only links**: Don't remove underlines without alternative
- ‚ùå **Insufficient UI contrast**: Don't use subtle borders/dividers

```css
/* ‚ùå Bad: Insufficient contrast */
.text { color: #cccccc; background: #ffffff; }
.link { color: #3b82f6; text-decoration: none; }

/* ‚úÖ Good: Proper contrast */
.text { color: #6b7280; background: #ffffff; }
.link { color: #0066cc; text-decoration: underline; }
.input:focus { border-color: #0066cc; outline: 2px solid #0066cc; }
```

### Color System Mistakes
- ‚ùå **Too many colors**: Don't create rainbow interfaces
- ‚ùå **Inconsistent usage**: Don't use colors arbitrarily
- ‚ùå **No semantic meaning**: Don't make red mean "success"
- ‚ùå **Pure colors**: Don't use fully saturated colors everywhere

```css
/* ‚ùå Bad: Too many colors */
:root {
  --color-1: #ff0000;
  --color-2: #00ff00;
  --color-3: #0000ff;
  /* ... too many! */
}

/* ‚úÖ Good: Limited palette */
:root {
  --color-primary: #0066cc;
  --color-success: #10b981;
  --color-error: #ef4444;
}
```

### Dark Mode Mistakes
- ‚ùå **Pure black backgrounds**: Causes eye strain
- ‚ùå **Pure white text**: Too harsh on dark backgrounds
- ‚ùå **Just inverting colors**: Doesn't work properly
- ‚ùå **Forgetting to test**: Dark mode needs separate testing

```css
/* ‚ùå Bad: Pure black and white */
@media (prefers-color-scheme: dark) {
  body {
    background: #000000;
    color: #ffffff;
  }
}

/* ‚úÖ Good: Dark mode colors */
@media (prefers-color-scheme: dark) {
  body {
    background: #0f172a;
    color: #f1f5f9;
  }
}
```

### Accessibility Mistakes
- ‚ùå **Color-only indicators**: Don't use only color for status
- ‚ùå **Missing labels**: Don't rely on placeholder text
- ‚ùå **Disabled contrast**: Don't make disabled elements invisible
- ‚ùå **No focus indicators**: Don't remove focus outlines

```html
<!-- ‚ùå Bad: Color only -->
<div style="color: red;">Important</div>

<!-- ‚úÖ Good: Multiple indicators -->
<div>
  <svg aria-hidden="true"><use href="#icon-error"></use></svg>
  <strong>Error:</strong> Important
</div>
```

## üîß Color Testing Tools

### Online Contrast Checkers
```
WebAIM Contrast Checker: https://webaim.org/resources/contrastchecker/
Coolors Contrast Checker: https://coolors.co/contrast-checker
Adobe Color Accessibility: https://color.adobe.com/create/color-accessibility
```

### Browser DevTools
```javascript
// ‚úÖ Chrome DevTools: Inspect element
// - Shows contrast ratio in color picker
// - Suggests AA/AAA compliant colors
// - Simulates color blindness

// ‚úÖ Firefox DevTools: Accessibility Inspector
// - Shows contrast issues
// - Lists all contrast violations
```

### Color Blindness Simulators
```
Coblis: https://www.color-blindness.com/coblis-color-blindness-simulator/
Chrome Extension: Colorblindly
Firefox Extension: Let's get color blind
```

## üìù Color Checklist

Before launching, verify:
- [ ] All text meets 4.5:1 contrast minimum (AA)
- [ ] Large text meets 3:1 contrast minimum
- [ ] UI components meet 3:1 contrast minimum
- [ ] Links are distinguishable (underline or alternative)
- [ ] Focus indicators are clearly visible
- [ ] Status/errors don't rely on color alone
- [ ] Dark mode maintains sufficient contrast
- [ ] Tested with color blindness simulators
- [ ] Color palette is limited (3-5 primary colors)
- [ ] Semantic colors are consistently applied
- [ ] Hover/focus states are clearly visible
- [ ] Disabled states are distinguishable

## üìä Quick Reference: Contrast Ratios

| Element Type | WCAG AA | WCAG AAA | Recommended |
|--------------|---------|----------|-------------|
| **Normal text** (<18pt) | 4.5:1 | 7:1 | 7:1+ |
| **Large text** (‚â•18pt) | 3:1 | 4.5:1 | 4.5:1+ |
| **UI components** | 3:1 | - | 3:1+ |
| **Icons** | 3:1 | - | 3:1+ |
| **Disabled elements** | - | - | 3:1 |
| **Placeholder text** | - | - | 4.5:1 |

## üìù Key Points

### Must Have
- WCAG AA compliance (4.5:1 for text, 3:1 for UI)
- Semantic color system with consistent usage
- Color indicators + icons/text (not color alone)
- Dark mode support with proper contrast
- Limited color palette (3-5 primary colors)

### Do
- Test all color combinations with tools
- Use pre-approved accessible color pairs
- Create shade scales (50-900) for flexibility
- Respect system color scheme preference
- Provide visual feedback beyond color
- Use dark grays in dark mode (not pure black)
- Desaturate bright colors for dark mode
- Document approved color combinations

### Don't
- Don't use color as the only indicator
- Don't ignore WCAG contrast requirements
- Don't use pure black/white in dark mode
- Don't create too many color variations
- Don't apply colors inconsistently
- Don't forget to test with simulators
- Don't remove link underlines without alternatives
- Don't make disabled elements invisible

---

**Remember**: Color is powerful but never sufficient alone. Always provide multiple ways to perceive information‚Äîthrough contrast, icons, text, and patterns. Accessibility is not optional; it's a fundamental requirement for modern web design.
