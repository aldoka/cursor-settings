---
description: Comprehensive guide for form design, validation patterns, error handling, and user-friendly input experiences
alwaysApply: false
---
# Forms and Validation

> **Reference**: This guide extends the [UX/UI Design Principles](ux-ui.mdc). Make sure you're familiar with core UX/UI principles before diving into forms and validation specifics.

## üìã Overview

Forms are critical touchpoints where users interact directly with your application. Well-designed forms with effective validation reduce errors, increase completion rates, and create positive user experiences. This guide covers form design, real-time validation, error handling, and accessibility.

**Why it matters:**
- Complex forms increase abandonment.
- Good inline validation reduces errors and frustration.
- Clear, actionable errors improve completion rates.

## üéØ Core Form Principles

### 1. Simplicity
- Ask only for essential information
- One column layout (faster completion)
- Logical field order
- Group related fields

### 2. Clarity
- Clear, visible labels (not just placeholders)
- Helpful microcopy and examples
- Explicit required fields
- Obvious primary action

### 3. Feedback
- Real-time validation where appropriate
- Clear error messages
- Success confirmation
- Progress indicators for multi-step forms

### 4. Accessibility
- Proper label associations
- Keyboard navigation
- Screen reader support
- Sufficient color contrast

## ‚úÖ DO (Recommended Practices)

### Form Structure

#### Single Column Layout
- ‚úÖ **One column for faster completion**
- ‚úÖ **Logical top-to-bottom flow**
- ‚úÖ **Group related fields**
- ‚úÖ **Clear visual hierarchy**

```html
<!-- ‚úÖ Good: Single column, logical flow -->
<form class="form">
  <div class="form-section">
    <h2>Personal Information</h2>
    
    <div class="form-group">
      <label for="fullName">Full Name *</label>
      <input 
        type="text" 
        id="fullName" 
        name="fullName"
        required
        aria-required="true">
    </div>
    
    <div class="form-group">
      <label for="email">Email Address *</label>
      <input 
        type="email" 
        id="email" 
        name="email"
        autocomplete="email"
        required
        aria-required="true"
        aria-describedby="email-hint">
      <span id="email-hint" class="hint">We'll never share your email</span>
    </div>
    
    <div class="form-group">
      <label for="phone">Phone Number</label>
      <input 
        type="tel" 
        id="phone" 
        name="phone"
        autocomplete="tel"
        placeholder="(555) 555-5555"
        aria-describedby="phone-hint">
      <span id="phone-hint" class="hint">Optional: for order updates</span>
    </div>
  </div>
  
  <div class="form-actions">
    <button type="submit" class="button-primary">Continue</button>
    <button type="button" class="button-secondary">Save for Later</button>
  </div>
</form>

<style>
.form {
  max-width: 600px;              /* Comfortable form width */
  margin: 0 auto;
}

.form-section {
  margin-bottom: 2rem;
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 0.75rem;
  font-size: 1rem;
  border: 2px solid #d1d5db;
  border-radius: 6px;
  transition: border-color 200ms;
}

.form-group input:focus {
  outline: none;
  border-color: #0066cc;
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
}

.hint {
  display: block;
  margin-top: 0.25rem;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.form-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}
</style>
```

#### Label Best Practices
- ‚úÖ **Always use explicit labels**
- ‚úÖ **Labels above inputs** (better for mobile)
- ‚úÖ **Never rely on placeholders as labels**
- ‚úÖ **Mark required fields clearly**

```html
<!-- ‚úÖ Good: Clear labels with required indicator -->
<div class="form-group">
  <label for="username">
    Username 
    <span class="required" aria-label="required">*</span>
  </label>
  <input 
    type="text" 
    id="username" 
    name="username"
    placeholder="e.g., john_smith"
    required
    aria-required="true">
</div>

<!-- ‚ùå Bad: Placeholder as label -->
<input type="text" placeholder="Enter your username">

<!-- ‚úÖ Good: Label with helpful context -->
<div class="form-group">
  <label for="password">
    Password
    <span class="label-hint">(min. 8 characters)</span>
  </label>
  <input 
    type="password" 
    id="password" 
    name="password"
    minlength="8"
    required
    aria-describedby="password-requirements">
  <span id="password-requirements" class="hint">
    Must include: uppercase, lowercase, number, and special character
  </span>
</div>
```

### Input Types and Attributes

#### Use Appropriate Input Types
- ‚úÖ **type="email" for emails**: Provides keyboard optimization
- ‚úÖ **type="tel" for phone numbers**: Shows numeric keyboard
- ‚úÖ **type="number" for numbers**: Prevents non-numeric input
- ‚úÖ **type="date" for dates**: Native date picker
- ‚úÖ **type="search" for search**: Adds clear button

```html
<!-- ‚úÖ Good: Appropriate input types -->
<div class="form-group">
  <label for="email">Email</label>
  <input 
    type="email" 
    id="email" 
    name="email"
    autocomplete="email"
    inputmode="email"
    required>
</div>

<div class="form-group">
  <label for="phone">Phone</label>
  <input 
    type="tel" 
    id="phone" 
    name="phone"
    autocomplete="tel"
    inputmode="tel"
    pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
    placeholder="555-555-5555">
</div>

<div class="form-group">
  <label for="quantity">Quantity</label>
  <input 
    type="number" 
    id="quantity" 
    name="quantity"
    min="1"
    max="99"
    value="1"
    inputmode="numeric">
</div>

<div class="form-group">
  <label for="birthdate">Birth Date</label>
  <input 
    type="date" 
    id="birthdate" 
    name="birthdate"
    autocomplete="bday"
    max="2024-12-31">
</div>
```

#### Autocomplete Attributes
- ‚úÖ **Use autocomplete for common fields**
- ‚úÖ **Helps autofill and password managers**
- ‚úÖ **Improves completion speed**
- ‚úÖ **Better accessibility**

```html
<!-- ‚úÖ Good: Proper autocomplete attributes -->
<form autocomplete="on">
  <input type="text" name="name" autocomplete="name">
  <input type="email" name="email" autocomplete="email">
  <input type="tel" name="phone" autocomplete="tel">
  
  <!-- Address fields -->
  <input type="text" name="address" autocomplete="street-address">
  <input type="text" name="city" autocomplete="address-level2">
  <input type="text" name="state" autocomplete="address-level1">
  <input type="text" name="zip" autocomplete="postal-code">
  <input type="text" name="country" autocomplete="country-name">
  
  <!-- Credit card -->
  <input type="text" name="card-name" autocomplete="cc-name">
  <input type="text" name="card-number" autocomplete="cc-number">
  <input type="text" name="card-exp" autocomplete="cc-exp">
  <input type="text" name="card-cvc" autocomplete="cc-csc">
</form>
```

### Real-Time Validation

#### Inline Validation Patterns
- ‚úÖ **Validate on blur** (when user leaves field)
- ‚úÖ **Show success indicators** for correct input
- ‚úÖ **Update dynamically** as user types (after initial blur)
- ‚úÖ **Don't validate on focus** (annoying)

```html
<!-- ‚úÖ Good: Inline validation with clear states -->
<div class="form-group" data-validation-state="idle">
  <label for="email-validation">Email Address</label>
  <div class="input-wrapper">
    <input 
      type="email" 
      id="email-validation" 
      name="email"
      aria-invalid="false"
      aria-describedby="email-error email-success">
    <span class="validation-icon" aria-hidden="true"></span>
  </div>
  <span id="email-error" class="error-message" role="alert"></span>
  <span id="email-success" class="success-message"></span>
</div>

<style>
.input-wrapper {
  position: relative;
}

.validation-icon {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  display: none;
}

/* Valid state */
[data-validation-state="valid"] .validation-icon {
  display: block;
}

[data-validation-state="valid"] .validation-icon::before {
  content: "‚úì";
  color: #10b981;
  font-size: 1.25rem;
}

[data-validation-state="valid"] input {
  border-color: #10b981;
}

/* Invalid state */
[data-validation-state="invalid"] .validation-icon {
  display: block;
}

[data-validation-state="invalid"] .validation-icon::before {
  content: "‚úï";
  color: #ef4444;
  font-size: 1.25rem;
}

[data-validation-state="invalid"] input {
  border-color: #ef4444;
}

.error-message {
  display: none;
  color: #ef4444;
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

[data-validation-state="invalid"] .error-message {
  display: block;
}
</style>

<script>
const emailInput = document.getElementById('email-validation');
const formGroup = emailInput.closest('.form-group');
const errorMessage = document.getElementById('email-error');

emailInput.addEventListener('blur', validateEmail);
emailInput.addEventListener('input', () => {
  // Only validate on input if previously validated
  if (formGroup.dataset.validationState !== 'idle') {
    validateEmail();
  }
});

function validateEmail() {
  const value = emailInput.value.trim();
  
  if (!value) {
    formGroup.dataset.validationState = 'invalid';
    errorMessage.textContent = 'Email address is required';
    emailInput.setAttribute('aria-invalid', 'true');
    return false;
  }
  
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(value)) {
    formGroup.dataset.validationState = 'invalid';
    errorMessage.textContent = 'Please enter a valid email address';
    emailInput.setAttribute('aria-invalid', 'true');
    return false;
  }
  
  formGroup.dataset.validationState = 'valid';
  errorMessage.textContent = '';
  emailInput.setAttribute('aria-invalid', 'false');
  return true;
}
</script>
```

#### Password Strength Indicators
- ‚úÖ **Visual strength meter**
- ‚úÖ **Clear requirements list**
- ‚úÖ **Real-time feedback**
- ‚úÖ **Show/hide password toggle**

```html
<!-- ‚úÖ Good: Password with strength indicator -->
<div class="form-group">
  <label for="password-strength">Create Password</label>
  <div class="password-wrapper">
    <input 
      type="password" 
      id="password-strength" 
      name="password"
      minlength="8"
      required
      aria-describedby="password-requirements password-strength-meter">
    <button 
      type="button" 
      class="toggle-password"
      aria-label="Show password">
      üëÅÔ∏è
    </button>
  </div>
  
  <!-- Strength meter -->
  <div id="password-strength-meter" class="strength-meter" aria-live="polite">
    <div class="strength-bar" data-strength="0"></div>
    <span class="strength-label">Weak</span>
  </div>
  
  <!-- Requirements checklist -->
  <ul id="password-requirements" class="requirements-list">
    <li data-met="false">
      <span aria-hidden="true"></span> At least 8 characters
    </li>
    <li data-met="false">
      <span aria-hidden="true"></span> One uppercase letter
    </li>
    <li data-met="false">
      <span aria-hidden="true"></span> One lowercase letter
    </li>
    <li data-met="false">
      <span aria-hidden="true"></span> One number
    </li>
    <li data-met="false">
      <span aria-hidden="true"></span> One special character
    </li>
  </ul>
</div>

<style>
.password-wrapper {
  position: relative;
}

.toggle-password {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.25rem;
}

.strength-meter {
  margin-top: 0.5rem;
}

.strength-bar {
  height: 4px;
  background: #e5e7eb;
  border-radius: 2px;
  overflow: hidden;
  position: relative;
}

.strength-bar::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  transition: width 200ms, background-color 200ms;
}

.strength-bar[data-strength="0"]::before {
  width: 0%;
  background: transparent;
}

.strength-bar[data-strength="1"]::before {
  width: 25%;
  background: #ef4444;
}

.strength-bar[data-strength="2"]::before {
  width: 50%;
  background: #f59e0b;
}

.strength-bar[data-strength="3"]::before {
  width: 75%;
  background: #fbbf24;
}

.strength-bar[data-strength="4"]::before {
  width: 100%;
  background: #10b981;
}

.requirements-list {
  list-style: none;
  padding: 0;
  margin-top: 0.5rem;
  font-size: 0.875rem;
}

.requirements-list li {
  color: #6b7280;
  margin-bottom: 0.25rem;
}

.requirements-list li span {
  display: inline-block;
  width: 1.25em;
}

.requirements-list li span::before {
  content: "‚óã";
}

.requirements-list li[data-met="true"] {
  color: #10b981;
}

.requirements-list li[data-met="true"] span::before { content: "‚úì"; }
</style>
```

### Error Handling

#### Clear Error Messages
- ‚úÖ **Specific about the problem**
- ‚úÖ **Explain how to fix it**
- ‚úÖ **Show next to the field**
- ‚úÖ **Use plain language**

```html
<!-- ‚úÖ Good: Helpful, specific error messages -->
<div class="form-group has-error">
  <label for="username-error">Username</label>
  <input 
    type="text" 
    id="username-error" 
    name="username"
    aria-invalid="true"
    aria-describedby="username-error-msg">
  <span id="username-error-msg" class="error-message" role="alert">
    Username must be 3-20 characters and contain only letters, numbers, and underscores
  </span>
</div>

<!-- ‚ùå Bad: Vague error message -->
<span class="error">Invalid input</span>

<!-- ‚úÖ Good: Contextual error messages -->
<div class="form-group has-error">
  <label for="email-format">Email</label>
  <input 
    type="email" 
    id="email-format" 
    value="john@example"
    aria-invalid="true"
    aria-describedby="email-format-error">
  <span id="email-format-error" class="error-message" role="alert">
    Email address is missing the domain extension (e.g., .com, .org)
  </span>
</div>
```

#### Error Summary
- ‚úÖ **List all errors at top of form**
- ‚úÖ **Link to fields with errors**
- ‚úÖ **Focus on first error**
- ‚úÖ **Preserve user input**

```html
<!-- ‚úÖ Good: Error summary with links -->
<div class="error-summary" role="alert" tabindex="-1">
  <h2>Please fix the following errors:</h2>
  <ul>
    <li><a href="#email">Email address is required</a></li>
    <li><a href="#password">Password must be at least 8 characters</a></li>
    <li><a href="#agree">You must agree to the terms</a></li>
  </ul>
</div>

<style>
.error-summary {
  background: #fee2e2;
  border-left: 4px solid #ef4444;
  padding: 1rem;
  margin-bottom: 2rem;
  border-radius: 4px;
}

.error-summary h2 {
  color: #991b1b;
  font-size: 1.125rem;
  margin-bottom: 0.5rem;
}

.error-summary ul {
  margin: 0;
  padding-left: 1.5rem;
}

.error-summary a {
  color: #991b1b;
  text-decoration: underline;
}

.error-summary a:hover {
  color: #7f1d1d;
}
</style>

<script>
form.addEventListener('submit', (e) => {
  const errors = validateForm();
  
  if (errors.length > 0) {
    e.preventDefault();
    
    // Show error summary
    showErrorSummary(errors);
    
    // Focus on first error
    const firstErrorField = document.getElementById(errors[0].fieldId);
    firstErrorField.focus();
  }
});
</script>
```

### Multi-Step Forms

#### Progress Indicators
- ‚úÖ **Show current step and total steps**
- ‚úÖ **Allow jumping to completed steps**
- ‚úÖ **Save progress automatically**
- ‚úÖ **Clear "Save and continue later" option**

```html
<!-- ‚úÖ Good: Multi-step form with progress -->
<div class="multi-step-form">
  <!-- Progress bar -->
  <div class="progress-steps" role="navigation" aria-label="Form progress">
    <div class="step completed">
      <div class="step-number">1</div>
      <div class="step-label">Personal Info</div>
    </div>
    <div class="step active">
      <div class="step-number">2</div>
      <div class="step-label">Address</div>
    </div>
    <div class="step">
      <div class="step-number">3</div>
      <div class="step-label">Payment</div>
    </div>
    <div class="step">
      <div class="step-number">4</div>
      <div class="step-label">Review</div>
    </div>
  </div>
  
  <!-- Current step content -->
  <div class="step-content">
    <h2>Step 2: Address Information</h2>
    <!-- Form fields here -->
  </div>
  
  <!-- Navigation -->
  <div class="step-navigation">
    <button type="button" class="button-secondary">‚Üê Back</button>
    <button type="button" class="button-text">Save for Later</button>
    <button type="button" class="button-primary">Continue ‚Üí</button>
  </div>
</div>

<style>
.progress-steps {
  display: flex;
  justify-content: space-between;
  margin-bottom: 2rem;
  position: relative;
}

.progress-steps::before {
  content: "";
  position: absolute;
  top: 20px;
  left: 0;
  right: 0;
  height: 2px;
  background: #e5e7eb;
  z-index: -1;
}

.step {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
}

.step-number {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #e5e7eb;
  color: #6b7280;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.step.completed .step-number {
  background: #10b981;
  color: white;
}

.step.active .step-number {
  background: #0066cc;
  color: white;
}

.step-label {
  font-size: 0.875rem;
  color: #6b7280;
  text-align: center;
}

.step.active .step-label {
  color: #111827;
  font-weight: 600;
}

.step-navigation {
  display: flex;
  justify-content: space-between;
  margin-top: 2rem;
}
</style>
```

## ‚ùå DON'T (Anti-patterns)

### Form Structure Mistakes
- ‚ùå **Multi-column layouts**: Confusing, slower completion
- ‚ùå **Placeholders as labels**: Disappear when typing
- ‚ùå **Too many fields**: Ask only what's needed
- ‚ùå **Random field order**: Follow logical flow

```html
<!-- ‚ùå Bad: Multi-column confusing layout -->
<div style="display: grid; grid-template-columns: 1fr 1fr;">
  <input placeholder="First Name">
  <input placeholder="Email">
  <input placeholder="Last Name">
  <input placeholder="Phone">
</div>

<!-- ‚úÖ Good: Single column, clear labels -->
<div class="form">
  <div class="form-group">
    <label for="firstName">First Name</label>
    <input type="text" id="firstName">
  </div>
  <div class="form-group">
    <label for="lastName">Last Name</label>
    <input type="text" id="lastName">
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" id="email">
  </div>
</div>
```

### Validation Mistakes
- ‚ùå **Validate on focus/typing**: Too early, annoying
- ‚ùå **Generic error messages**: "Error", "Invalid"
- ‚ùå **No success indicators**: Users uncertain if input is correct
- ‚ùå **Clear form on error**: Preserve user input!

```javascript
// ‚ùå Bad: Validate immediately on typing (annoying)
input.addEventListener('input', validate);

// ‚úÖ Good: Validate on blur, update on input
input.addEventListener('blur', validate);
input.addEventListener('input', () => {
  if (hasBeenValidated) validate();
});

// ‚ùå Bad: Clear form on error
if (hasErrors) {
  form.reset();  // Don't do this!
}

// ‚úÖ Good: Preserve input, show errors
if (hasErrors) {
  showErrors(errors);  // Keep user's input
}
```

### Error Message Mistakes
- ‚ùå **Vague errors**: "Something went wrong"
- ‚ùå **Technical jargon**: "Error 422: Unprocessable Entity"
- ‚ùå **No guidance**: Don't explain how to fix
- ‚ùå **Color only**: Don't rely on red color alone

```html
<!-- ‚ùå Bad: Unhelpful error -->
<span class="error">Error</span>

<!-- ‚úÖ Good: Specific, helpful error -->
<span class="error" role="alert">
  <strong>Email address invalid:</strong> 
  Please enter a valid email address (e.g., name@example.com)
</span>
```

## üìù Forms Checklist

Before launching, verify:
- [ ] Single column layout for main form fields
- [ ] Visible labels (not placeholders) for all inputs
- [ ] Required fields clearly marked
- [ ] Appropriate input types (email, tel, number, date)
- [ ] Autocomplete attributes for common fields
- [ ] Inline validation on blur (not on input initially)
- [ ] Clear, specific error messages
- [ ] Success indicators for valid input
- [ ] Error summary at top of form
- [ ] Touch-friendly targets (44√ó44px minimum)
- [ ] Keyboard accessible (tab order, enter to submit)
- [ ] ARIA labels and descriptions
- [ ] Progress indicators for multi-step forms
- [ ] "Save for later" option for long forms
- [ ] Disabled submit button while processing
- [ ] Success confirmation after submission

## üìù Key Points

### Must Have
- Visible labels for all form fields
- Clear required field indicators
- Inline validation on blur
- Specific, helpful error messages
- Keyboard accessibility
- Appropriate input types and autocomplete
- Touch-friendly targets (44√ó44px)

### Do
- Use single column layouts
- Validate on blur, update on input
- Show success indicators for valid input
- Preserve user input on errors
- Group related fields together
- Use native HTML validation when possible
- Provide helpful microcopy and examples
- Test with real users and data

### Don't
- Don't use placeholders as labels
- Don't validate immediately on typing
- Don't show generic error messages
- Don't clear form on submission errors
- Don't use multi-column layouts
- Don't ask for unnecessary information
- Don't rely on color alone for errors
- Don't forget keyboard navigation

---

**Remember**: Forms are conversations with users. Make them friendly, forgiving, and helpful. Every field you remove increases completion rates. Every clear error message prevents frustration. Good form design directly impacts conversion rates and user satisfaction.
